#JS作用域#

###1.2 理解作用域###

每段代码的执行都需要不同的东西相互配合，大概由以下三种

1. 引擎
2. 编译器
3. 作用域


**引擎**  

负责整个javascript的程序的编译以及执行

**编译器**

负责语法分析以及代码生成

**作用域**

负责收集并维护由所有声明的标识符（变量） 组成的一系列查询， 并实施一套非常严格的规则， 确定当前执行的代码对这些标识符的访问权限。

简而言之就是负责变量的存取以及读写工作；

####1.3 javascript的解析流程###

var x = 2；  

当这条声明语句执行时，我们可能会认为是一条语句，声明x变量赋值为2；

但是javascript的解析流程却不是这样，当javascript引擎读取到这段声明时，会被当成2条语句执行，一个在编译时执行  一个由引擎在运行时处理。

首先引擎读取到这段声明时  首先会执行var x；  首先询问编译器内是否有相同的变量，如果有则会忽略该声明继续编译；如果没有该变量，则新建一个变量存储在当前的作用域中，并命名为x；

然后编译器会准备引擎运行时所需要的代码。这些代码用来处理x=2这个赋值操作，首先引擎运行时会询问当前作用域是否有一个x的变量值，如果有，则调用该变量，如果没有则继续向下查找，直到找到，如果最终找不到x变量，则会报错。

**总结：** 

变量的赋值操作会执行两个动作， 首先编译器会在当前作用域中声明一个变量（如
果之前没有声明过）， 然后在运行时引擎会在作用域中查找该变量， 如果能够找到就会对
它赋值


